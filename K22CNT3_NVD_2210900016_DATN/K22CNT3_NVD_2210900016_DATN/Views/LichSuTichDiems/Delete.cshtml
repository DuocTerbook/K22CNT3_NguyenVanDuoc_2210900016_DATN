@model K22CNT3_NVD_2210900016_DATN.Models.LichSuTichDiem

@{
    ViewBag.Title = "Xóa lịch sử tích điểm";
}

<h2 class="text-danger mb-3">🗑️ Xác nhận xóa lịch sử tích điểm</h2>

<div class="alert alert-warning">
    <strong>⚠ Cảnh báo:</strong> Thao tác này sẽ <b>trừ lại điểm</b> của hội viên và <b>không thể hoàn tác</b>.
</div>

<div class="card shadow-sm border-danger">
    <div class="card-body">
        <dl class="row">

            <!-- ĐIỂM CỘNG -->
            <dt class="col-sm-4 fw-bold text-success">Điểm cộng</dt>
            <dd class="col-sm-8">
                @(Model.DiemCong.HasValue ? Model.DiemCong.ToString() : "0")
            </dd>

            <!-- ĐIỂM TRỪ -->
            <dt class="col-sm-4 fw-bold text-danger">Điểm trừ</dt>
            <dd class="col-sm-8">
                @(Model.DiemTru.HasValue ? Model.DiemTru.ToString() : "0")
            </dd>

            <!-- LÝ DO -->
            <dt class="col-sm-4 fw-bold">Lý do</dt>
            <dd class="col-sm-8">
                @if (string.IsNullOrEmpty(Model.LyDo))
                {
                    <span class="text-muted fst-italic">Không có lý do</span>
                }
                else
                {
                    @Model.LyDo
                }
            </dd>

            <!-- NGÀY -->
            <dt class="col-sm-4 fw-bold">Ngày tích điểm</dt>
            <dd class="col-sm-8">
                @(Model.NgayTichDiem.HasValue
                ? Model.NgayTichDiem.Value.ToString("dd/MM/yyyy HH:mm")
                : "—")
            </dd>

            <!-- ĐƠN DỊCH VỤ -->
            <dt class="col-sm-4 fw-bold">Đơn dịch vụ</dt>
            <dd class="col-sm-8">
                @(Model.DonDichVu != null
                    ? $"#{Model.DonDichVu.ID_DonDV}"
                    : "—")
            </dd>

            <!-- ĐƠN HÀNG -->
            <dt class="col-sm-4 fw-bold">Đơn hàng</dt>
            <dd class="col-sm-8">
                @(Model.DonHang != null
                    ? $"#{Model.DonHang.ID_DonHang}"
                    : "—")
            </dd>

            <!-- HỘI VIÊN -->
            <dt class="col-sm-4 fw-bold">Mã thẻ hội viên</dt>
            <dd class="col-sm-8">
                @(Model.HoiVien != null
                    ? Model.HoiVien.MaThe
                    : "—")
            </dd>

        </dl>

        <hr />

        @using (Html.BeginForm())
        {
            @Html.AntiForgeryToken()

            <div class="text-end">
                <input type="submit" value="🗑️ Xóa" class="btn btn-danger" />
                @Html.ActionLink("↩ Hủy", "Index", null, new { @class = "btn btn-secondary ms-2" })
            </div>
        }
    </div>
</div>
